Реализовать разбор заголовка и данных HTTP запроса:

GET /wiki/http HTTP/1.1
Host: ru.wikipedia.org
User-Agent: Mozilla/5.0 (X11; U; Linux i686; ru; rv:1.9b5) Gecko/2008050509 Firefox/3.0b5
Accept: text/html
Connection: close

Должна быть реализована возможность:

- получение типа запроса в виде значения enum {GET, POST, CONNECT, PUT, HEAD}
- получение url запроса;
- получение значения заголовка по его имени (регистронезависимый);
- возможность энумерации (перечисления) всех заголовков запроса.

Использовать ООП, stl, по возможности не использовать лишнее выделение памяти (явное или не явное), не использовать сторонние библиотеки.

Критерии оценки:

- эффективность алгоритма;
- потребление памяти;
- время исполнения.